<html>
<head>
  <title>StackMob JS SDK Examples</title>

  <!-- StackMob Dependencies -->
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
  <script type="text/javascript" src="http://static.stackmob.com/js/stackmob-js-0.7.0-bundled-min.js"></script>

  <!-- Example Dependencies -->
  <script type="text/javascript" src="http://static.stackmob.com/resources/js/jsonFormatter-0.1.0-min.js"></script>

  <!-- Example Code -->
  <script type="text/javascript">
    // Copy your init data from here: https://dashboard.stackmob.com/sdks/js/config
    // Your other app information is here: https://dashboard.stackmob.com/settings
    StackMob.init({
      appName: "jstest",
      clientSubdomain: "justinwyne015",
      publicKey: "4fef2ec1-69df-4c42-828e-45a873b7f2f2",
      apiVersion: 0
    });

    // Show alert if StackMob has not been initialized
    $(document).ready(function () {
      if (StackMob.publicKey == "your public key") {
        $("#init").show();
      }
    });

  </script>

  <script type="text/javascript" src="examples.js"></script>

  <style type="text/css">
    /* <![CDATA[ */
    body {
      font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
    }
    #init {
      display: none;
      background-color: #FDD;
      border: 1px solid #FBB;
      padding: 0 20px;
    }
    .left {
      width: 50%;
    }
    #results-container {
      position: fixed;
      top: 10px;
      right: 10px;
      background-color: #FFF;
      border: 1px solid #CCC;
      padding: 10px;
    }
    /* ]]> */
  </style>

</head>
<body>
  <script>
    window.fbAsyncInit = function() {
      FB.init({
        appId      : 'your facebook app id', // App ID
        channelUrl : '//localhost/channel.html', // Channel File
        status     : true, // check login status
        cookie     : true, // enable cookies to allow the server to access the session
        xfbml      : true  // parse XFBML
      });

      // Additional initialization code here
    };

    // Load the SDK Asynchronously
    (function(d){
       var js, id = 'facebook-jssdk'; if (d.getElementById(id)) {return;}
       js = d.createElement('script'); js.id = id; js.async = true;
       js.src = '//connect.facebook.net/en_US/all.js';
       d.getElementsByTagName('head')[0].appendChild(js);
     }(document));
  </script>

  <div id="init">
    <h4>Warning!</h4>
    <p>Make sure you <a href="https://dashboard.stackmob.com/sdks/js/config">initialize StackMob</a> in this file (examples.html) before using it!</p>
  </div>

  <div class="left">
    
    <h1>StackMob JS SDK Examples</h1>

    <b>Note:</b> Be sure to satisfy the prerequisites in  more-examples/README.md before running these examples.

    <div id="fb-root"></div>

    <h2>User CRUD</h2>
    <ul>
      <li><a id="user_create" href="javascript:void(0);">Create User: Bruce Wayne</a></li>
      <li><a id="user_read" href="javascript:void(0);">Read User: Bruce Wayne</a></li>
      <li><a id="user_update" href="javascript:void(0);">Update User: Bruce Wayne turns 51</a></li>
      <li><a id="user_delete" href="javascript:void(0);">Delete user: Bruce Wayne</a></li>
    </ul>

    <h2>Login/Logout</h2>
    <ul>
      <li><a id="login" href="javascript:void(0);">Login (make sure Bruce Wayne from above is created first)</a></li>
      <li><a id="logout" href="javascript:void(0);">Logout (make sure Bruce Wayne from above is logged in first)</a></li>
    </ul>

    <h2>Custom Model: Book</h2>
    <ul>
      <li><a id="book_createbooks" href="javascript:void(0);">Create Books</a></li>
      <li><a id="book_delete" href="javascript:void(0);">Delete Books</a></li>
    </ul>

    <h2>Advanced Queries: StackMobQuery</h2>
    <ul>
      <li><a id="smq_getall" href="javascript:void(0);">Get Test Objects</a></li>
      <li><a id="smq_createall" href="javascript:void(0);">Create Test Objects</a></li>
      <li><a id="smq_deleteall" href="javascript:void(0);">Delete Test Objects</a></li>
      <li><a id="smq_equals" href="javascript:void(0);">Equals: <code>number</code> = 15</a></li>
      <li><a id="smq_notequals" href="javascript:void(0);">Not Equals: <code>number</code> != 15</a></li>
      <li><a id="smq_count" href="javascript:void(0);">Count of Objects where number=15</a></li>
      <li><a id="smq_lt" href="javascript:void(0);">Less Than: <code>number</code> < 5</a></li>
      <li><a id="smq_lte" href="javascript:void(0);">Less Than Equals to: <code>number</code> <= 5</a></li>
      <li><a id="smq_gt" href="javascript:void(0);">Greater Than: Number > 20</a></li>
      <li><a id="smq_gte" href="javascript:void(0);">Greater Than Equals To: <code>number</code> >= 20</a></li>
      <li><a id="smq_isnull" href="javascript:void(0);">Is Null: <code>number</code></a></li>
      <li><a id="smq_isnotnull" href="javascript:void(0);">Is Not Null: <code>number</code></a></li>
      <li><a id="smq_mustbeoneof" href="javascript:void(0);">Must Be One Of: <code>number</code> is 1, 5, or 10</a></li>
      <li><a id="smq_orderByAsc" href="javascript:void(0);">Order Ascending: <code>number</code> in ascending order</a></li>
      <li><a id="smq_orderByDesc" href="javascript:void(0);">Order Descending: <code>number</code> in descending order</a></li>
      <li><a id="smq_range" href="javascript:void(0);">Range (Pagination): Get fifth through ninth results, order ascended by <code>number</code>)</a></li>
      <li><a id="smq_gte_lte_expression" href="javascript:void(0);">Multiple query combos: 3 <= <code>number</code> <= 5 and order by <code>number</code> ascending</a></li>
    </ul>

    <h2>Geospatial (Lat/Lon)</h2>
    <p>
      You need to have a Schema named "attraction" with a geopoint called "location".
      Create one at http://www.stackmob.com/platform/
      <pre>
      {
        'name': STRING,
        'location': GEOPOINT
      }
      </pre>
    </p>
    <ul>
      <li><a id="geo_saveattractions" href="javascript:void(0);">Save Attractions</a></li>
      <li><a id="geo_getattractions" href="javascript:void(0);">Get Attractions</a></li>
      <li><a id="geo_clearallattractions" href="javascript:void(0);">Delete All Attractions</a></li>
      <li><a id="geo_mustbenear" href="javascript:void(0);">Must Be Near</a></li>
      <li><a id="geo_iswithin" href="javascript:void(0);">Is Within</a></li>
      <li><a id="geo_iswithinbox" href="javascript:void(0);">Is Within Box</a></li>
    </ul>


    <h2>Array Methods: (append/remove/append+create)</h2>
    <p>
      This assumes you have a <code>user</code> schema that has a <code>messages</code> field.
      The <code>messages</code> field is an array of <code>message</code> objects.  The <code>message</code> object
      has a String field called <code>content</code>.
    </p>
    <p>
      e.g.,
      <pre>
        //User
        {
          'username': 'Bruce Wayne',
          'password': '...',
          'messages': ['a','b','c']
        }

        //Message
        {
          'message_id': 'a',
          'content': 'hello world'
        }
      </pre>
    </p>
    <ul>
      <li><a id="rel_createuser" href="javascript:void(0);">Create User "Mr Rogers"</a></li>
      <li><a id="rel_getuser" href="javascript:void(0);">Get User "Mr Rogers"</a></li>
      <li><a id="rel_appendandcreate" href="javascript:void(0);">Create Messages and append to Mr. Rogers' <code>messages</code> array in one call</a></li>
      <li><a id="rel_appendandsave" href="javascript:void(0);">Add existing messages to Mr. Rogers' <code>messages</code> array</a></li>
      <li><a id="rel_getuserexpanded" href="javascript:void(0);">Get Expanded User "Mr Rogers"</a></li>
      <li><a id="rel_deleteandsave" href="javascript:void(0);">Remove messages from Mr. Rogers, but don't delete message data in one call.</a></li>
      <li><a id="rel_harddeleteandsave" href="javascript:void(0);">Remove messages from Mr. Rogers and delete the messages as well in one call</a></li>

      <li><a id="rel_deleteuser" href="javascript:void(0);">Delete User "Mr Rogers"</a></li>
      <li><a id="rel_getmsgs" href="javascript:void(0);">Get All Messages</a></li>
      <li><a id="rel_deletemsgs" href="javascript:void(0);">Delete all messages</a></li>


    </ul>

    <h2>Binary File Upload (S3 Integration)</h2>

    <table>
      <tr>
        <td>File to Encode:</td>
        <td><input type="file" id="files" name="files[]" multiple /></td>
      </tr>
    </table>


    <h2>Custom Code</h2>
    <ul>
      <li><a id="cc_helloworld" href="javascript:void(0);">Call hello_world custom code</a></li>
      <li><a id="cc_withparams" href="javascript:void(0);">Call CC with Params</a></li>
    </ul>

    <h2>Facebook</h2>
    <ul>
      <li><a id="createUserFB" href="javascript:void(0);">Create User with Facebook</a></li>
      <li><a id="loginFB" href="javascript:void(0);">Log into Facebook</a></li>
      <li><a id="linkFB" href="javascript:void(0);">Link user with Facebook</a></li>
      <li><a id="getInfoFB" href="javascript:void(0);">Get Info from Facebook</a></li>
    </ul>
  </div>

  <div id="results-container">
    <h3>Query Results:</h3>
    <div>(results also displayed in your FireBug/Developer Tools JS console)</div>
    <textarea id="results" rows="25" cols="55"></textarea>
  </div>

</body>
</html>
